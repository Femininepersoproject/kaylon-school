<!DOCTYPE html>
<html lang="fr">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@500;700&display=swap');

  :root {
    --bg: #f7fdfb;
    --text: #0d1b1e;
    --muted: #4b6e63;
    --accent: #5e8c61;       /* Vert kaki doux */
    --accent-light: #bce3ca; /* Vert pastel clair */
    --highlight: #b8b4ff;    /* Mauve pÃ¢le */
    --cta: #6ed3cf;          /* Turquoise clair */
    --radius: 18px;
    --shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
  }

  body {
    margin: 0;
    padding: 2rem;
    font-family: 'Inter', sans-serif;
    background-color: var(--bg);
    color: var(--text);
    line-height: 1.6;
    font-size: 16px;
    max-width: 900px;
    margin-inline: auto;
  }

  h1, h2, h3 {
    font-family: 'Playfair Display', serif;
    color: var(--accent);
    margin-top: 0;
  }

  a {
    color: var(--accent);
    text-decoration: none;
    font-weight: 600;
  }

  a:hover {
    color: var(--highlight);
  }

  .card {
    background: white;
    border-radius: var(--radius);
    padding: 1.5rem;
    box-shadow: var(--shadow);
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
  }

  .card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
  }

  .button {
    background-color: var(--cta);
    color: white;
    padding: 10px 20px;
    border-radius: 999px;
    font-weight: 600;
    display: inline-block;
    margin-top: 1rem;
    transition: background-color 0.3s ease;
    text-align: center;
  }

  .button:hover {
    background-color: #50c0b7;
  }

  ul, ol {
    padding-left: 1.5rem;
  }

  .module-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .highlight {
    color: var(--highlight);
    font-weight: bold;
  }

  .note {
    background: var(--accent-light);
    padding: 1rem;
    border-left: 5px solid var(--accent);
    border-radius: 10px;
    margin-bottom: 1.5rem;
  }
</style>
<head>
  <meta charset="UTF-8">
  <title>Module 3 â€” Les temps du passÃ©</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f4f4f9; margin: 0; padding: 2rem; color: #333; }
    h1, h2, h3 { color: #4b0082; }
    .block { background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    textarea, select, input[type="text"] { width: 100%; padding: 8px; margin-top: 8px; border: 1px solid #ccc; border-radius: 4px; }
    button { background-color: #4b0082; color: white; padding: 10px 16px; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #321057; }
    .result { margin-top: 1rem; font-weight: bold; }
  </style>
</head>
<body>

<h1>ğŸ“˜ MODULE 3 â€” â€œLes temps du passÃ© : imparfait & passÃ© composÃ©â€</h1>

<div class="block">
  <p>ğŸ” <strong>Niveau :</strong> 6e / 5e avancÃ© â€“ Renforcement grammaire + orthographe + expression + comprÃ©hension</p>
</div>

<div class="block">
  <h2>ğŸ¯ Objectifs pÃ©dagogiques</h2>
  <ul>
    <li>Comprendre la diffÃ©rence entre lâ€™imparfait (description, habitude, fond) et le passÃ© composÃ© (action courte, ponctuelle, Ã©vÃ©nement prÃ©cis)</li>
    <li>Identifier et utiliser correctement ces deux temps dans un texte</li>
    <li>Reconnaitre les auxiliaires avoir/Ãªtre et accorder les participes passÃ©s</li>
    <li>Pratiquer Ã  travers de textes Ã  trous, comprÃ©hension, transformation et Ã©criture libre</li>
  </ul>
</div>

<div class="block">
  <h2>ğŸŒ€ Partie 1 â€“ Le dragon du marchÃ© flottant</h2>
  <p>ğŸ‰ Il faisait chaud ce jour-lÃ , trÃ¨s chaud. Le marchÃ© flottant de Bangkok Ã©tait rempli de pirogues colorÃ©es. Kylon regardait les marchands glisser lentement sur lâ€™eau. Il portait son chapeau de paille et mangeait une glace Ã  la mangue.</p>
  <p>Soudain, un cri a Ã©clatÃ© ! Quelquâ€™un avait vu un dragon voler au-dessus du marchÃ© ! Kylon sâ€™est levÃ©, a lÃ¢chÃ© sa glace, et a couru vers le ponton.</p>
  <p>Ce quâ€™il a vu ce jour-lÃ  restera gravÃ© dans sa mÃ©moireâ€¦</p>
  <em>Remarque : Dans cette histoire, certains verbes dÃ©crivent lâ€™ambiance (imparfait), dâ€™autres lâ€™action soudaine (passÃ© composÃ©). On va les dÃ©coder ensemble.</em>
</div>

<div class="block">
  <h2>ğŸ“– Partie 2 â€“ La leÃ§on en langage vivant</h2>
  <h3>ğŸ§  Imparfait = ce qui dure, se rÃ©pÃ¨te, dÃ©crit</h3>
  <p>On lâ€™utilise pour les habitudes, sentiments, dÃ©cors, Ã©tats, ou pour raconter une scÃ¨ne â€œen toile de fondâ€.</p>
  <ul>
    <li>Il faisait chaud.</li>
    <li>Les gens souriaient.</li>
    <li>Kylon mangeait une glace.</li>
  </ul>

  <h3>ğŸ§¨ PassÃ© composÃ© = ce qui intervient, bouge, change, se passe une fois</h3>
  <p>On lâ€™utilise pour les Ã©vÃ©nements prÃ©cis, les actions terminÃ©es.</p>
  <ul>
    <li>Un cri a Ã©clatÃ©.</li>
    <li>Il a couru.</li>
    <li>Il a vu un dragon.</li>
  </ul>
  <p>âœ¨ <strong>Astuce de ninja :</strong> lâ€™imparfait est flou, lent, le passÃ© composÃ© est net, rapide</p>
</div>

<div class="block">
  <h2>âœï¸ EXERCICE 1 â€” â€œQuel temps est-ce ?â€</h2>
  <form id="quiz1">
    <p>1. Il marchait lentement dans la ruelle.
      <select name="q1">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <p>2. Soudain, la pluie a commencÃ© Ã  tomber.
      <select name="q2">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <p>3. Les tuk-tuks roulaient dans tous les sens.
      <select name="q3">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <p>4. Jâ€™ai mangÃ© un riz gluant dÃ©licieux.
      <select name="q4">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <p>5. Le soleil brillait.
      <select name="q5">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <p>6. Elle a pris une photo du temple.
      <select name="q6">
        <option value="">Choisir</option>
        <option value="imparfait">Imparfait</option>
        <option value="passecompose">PassÃ© composÃ©</option>
      </select>
    </p>
    <button type="button" onclick="checkQuiz1()">VÃ©rifier</button>
    <div id="result1" class="result"></div>
  </form>
</div>

<script>
function checkQuiz1() {
  const answers = {
    q1: 'imparfait',
    q2: 'passecompose',
    q3: 'imparfait',
    q4: 'passecompose',
    q5: 'imparfait',
    q6: 'passecompose'
  };
  const form = document.forms['quiz1'];
  let score = 0;
  let output = '';
  for (let i = 1; i <= 6; i++) {
    const userAnswer = form[`q${i}`].value;
    if (userAnswer === answers[`q${i}`]) {
      score++;
      output += `âœ… ${i}. Correct<br>`;
    } else {
      output += `âŒ ${i}. Mauvaise rÃ©ponse (${userAnswer || 'aucune'}) â†’ ${answers[`q${i}`]} attendu<br>`;
    }
  }
  document.getElementById('result1').innerHTML = output;
}
</script>
<!-- MODULE 3 â€” PARTIE 2 : exercices 2 Ã  5 -->
<section id="exercice2">
  <h2>ğŸ—‰ï¸ EXERCICE 2 â€” Texte Ã  trous</h2>
  <p>
    ComplÃ¨te ce texte en conjuguant correctement les verbes au <strong>passÃ© composÃ©</strong> ou Ã  <strong>lâ€™imparfait</strong> (selon le sens).<br/>
    Les infinitifs sont donnÃ©s entre parenthÃ¨ses.
  </p>
  <form id="form-ex2">
    <p>Hier, Kylon et Nya <input name="v1" required /> (se rÃ©veiller) tÃ´t.<br/>
      Ils <input name="v2" required /> (prendre) leur petit dÃ©jeuner avec du riz frit.<br/>
      Le ciel <input name="v3" required /> (Ãªtre) bleu, et la chaleur <input name="v4" required /> (monter) dÃ©jÃ .<br/>
      Ils <input name="v5" required /> (partir) ensuite visiter un vieux temple cachÃ© dans la forÃªt.<br/>
      Pendant que Nya <input name="v6" required /> (Ã©couter) les oiseaux, Kylon <input name="v7" required /> (dessiner) une statue.<br/>
      Puis tout Ã  coup, un singe <input name="v8" required /> (voler) leur bouteille dâ€™eau et <input name="v9" required /> (sauter) sur un mur.<br/>
      Ils <input name="v10" required /> (rire) longtemps !
    </p>
  </form>
</section>

<section id="exercice3">
  <h2>ğŸ” EXERCICE 3 â€” Transforme les temps</h2>
  <form id="form-ex3">
    <label>1. Il a vu un crocodile. â†’ <input name="t1" required /></label><br/>
    <label>2. Nous mangions des nouilles. â†’ <input name="t2" required /></label><br/>
    <label>3. Tu as dessinÃ© une fleur de lotus. â†’ <input name="t3" required /></label><br/>
    <label>4. Ils observaient les bateaux. â†’ <input name="t4" required /></label><br/>
  </form>
</section>

<section id="exercice4">
  <h2>âœï¸ EXERCICE 4 â€” Ã‰criture libre</h2>
  <p>
    Raconte une journÃ©e magique que tu as vÃ©cue rÃ©cemment (ou invente-la).<br/>
    Utilise <strong>au moins 3 imparfaits</strong> et <strong>3 passÃ©s composÃ©s</strong>.
  </p>
  <textarea id="free-text" rows="10" cols="80" placeholder="Ce matin-lÃ , jâ€™Ã©tais sur la plage. Il faisait beau. Tout Ã  coup..."></textarea>
</section>

<section id="exercice5">
  <h2>ğŸ¯ EXERCICE BONUS â€” Chasseur de verbes</h2>
  <p>
    Dans ce texte, entoure tous les verbes et note leur temps (imparfait ou passÃ© composÃ©).
  </p>
  <p><em>Kylon portait son sac rouge. Il cherchait quelque chose Ã  manger. Tout Ã  coup, une dame lui a tendu un fruit bizarre. Il lâ€™a mangÃ© sans rÃ©flÃ©chir. Puis il sâ€™est transformÃ©... en chat !</em></p>
  <textarea id="bonus-answer" rows="6" cols="80" placeholder="Exemple : portait = imparfait"></textarea>
</section>

<!-- BOUTON ENVOI FINAL -->
<section>
  <button id="send-results">Envoyer mes rÃ©ponses âœ‰ï¸</button>
  <p id="send-feedback" style="color:green; display:none">Merci ! Tes rÃ©ponses ont bien Ã©tÃ© envoyÃ©es Ã  maman ğŸ˜</p>
</section>

<script>
  document.getElementById("send-results").addEventListener("click", async () => {
    const data = {
      ex2: Object.fromEntries(new FormData(document.getElementById("form-ex2"))),
      ex3: Object.fromEntries(new FormData(document.getElementById("form-ex3"))),
      freeText: document.getElementById("free-text").value,
      bonus: document.getElementById("bonus-answer").value,
    };

    const res = await fetch("/api/send-result.js", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });

    if (res.ok) {
      document.getElementById("send-feedback").style.display = "block";
    }
  });
</script>
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 3 â€“ Imparfait vs PassÃ© ComposÃ©</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <section class="partie" id="ex4">
      <h2>âœï¸ EXERCICE 4 â€” Ã‰criture libre guidÃ©e</h2>
      <p>Raconte une journÃ©e magique que tu as vÃ©cue rÃ©cemment (ou invente-la).<br>
        Utilise au moins :<br>
        â€“ 3 verbes Ã  lâ€™imparfait<br>
        â€“ 3 verbes au passÃ© composÃ©<br><br>
        Exemple de dÃ©but : â€œCe matin-lÃ , jâ€™Ã©tais sur la plage. Il faisait beau. Tout Ã  coupâ€¦â€
      </p>
      <textarea id="storyText" placeholder="Ã‰cris ton histoire ici..." rows="8"></textarea>
      <button onclick="submitWriting()">Envoyer Ã  maman</button>
      <p id="confirmationWriting"></p>
    </section>

    <hr>

    <section class="partie" id="bonus">
      <h2>

</body>
</html>